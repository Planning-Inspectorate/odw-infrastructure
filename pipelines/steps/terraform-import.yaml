parameters:
  - name: workingDirectory
    type: string
    default: infrastructure

steps:
  - script: |
      echo "Importing pre-existing containers..."

      terraform import 'module.synapse_data_lake.azurerm_storage_container.synapse["insights-logs-builtinsqlreqsended"]' '/subscriptions/12806449-ae7c-4754-b104-65bcdc7b28c8/resourceGroups/pins-rg-data-odw-dev-uks/providers/Microsoft.Storage/storageAccounts/pinsstodwdevuks9h80mb/blobServices/default/containers/insights-logs-builtinsqlreqsended'
      terraform import 'module.synapse_data_lake.azurerm_storage_container.synapse["logging"]' '/subscriptions/12806449-ae7c-4754-b104-65bcdc7b28c8/resourceGroups/pins-rg-data-odw-dev-uks/providers/Microsoft.Storage/storageAccounts/pinsstodwdevuks9h80mb/blobServices/default/containers/logging'
      terraform import 'module.synapse_data_lake.azurerm_storage_container.synapse["odw-config-db"]' '/subscriptions/12806449-ae7c-4754-b104-65bcdc7b28c8/resourceGroups/pins-rg-data-odw-dev-uks/providers/Microsoft.Storage/storageAccounts/pinsstodwdevuks9h80mb/blobServices/default/containers/odw-config-db'
      terraform import 'module.synapse_data_lake.azurerm_storage_container.synapse["odw-curated-migration"]' '/subscriptions/12806449-ae7c-4754-b104-65bcdc7b28c8/resourceGroups/pins-rg-data-odw-dev-uks/providers/Microsoft.Storage/storageAccounts/pinsstodwdevuks9h80mb/blobServices/default/containers/odw-curated-migration'
      terraform import 'module.synapse_data_lake.azurerm_storage_container.synapse["odw-standardised-delta"]' '/subscriptions/12806449-ae7c-4754-b104-65bcdc7b28c8/resourceGroups/pins-rg-data-odw-dev-uks/providers/Microsoft.Storage/storageAccounts/pinsstodwdevuks9h80mb/blobServices/default/containers/odw-standardised-delta'
      terraform import 'module.synapse_data_lake.azurerm_storage_container.synapse["s51-advice-backup"]' '/subscriptions/12806449-ae7c-4754-b104-65bcdc7b28c8/resourceGroups/pins-rg-data-odw-dev-uks/providers/Microsoft.Storage/storageAccounts/pinsstodwdevuks9h80mb/blobServices/default/containers/s51-advice-backup'
      terraform import 'module.synapse_data_lake.azurerm_storage_container.synapse["saphrsdata-to-odw"]' '/subscriptions/12806449-ae7c-4754-b104-65bcdc7b28c8/resourceGroups/pins-rg-data-odw-dev-uks/providers/Microsoft.Storage/storageAccounts/pinsstodwdevuks9h80mb/blobServices/default/containers/saphrsdata-to-odw'
      terraform import 'module.synapse_data_lake.azurerm_storage_container.synapse["synapse"]' '/subscriptions/12806449-ae7c-4754-b104-65bcdc7b28c8/resourceGroups/pins-rg-data-odw-dev-uks/providers/Microsoft.Storage/storageAccounts/pinsstodwdevuks9h80mb/blobServices/default/containers/synapse'

    displayName: 'Terraform Import Existing Containers'
    workingDirectory: ${{ parameters.workingDirectory }}